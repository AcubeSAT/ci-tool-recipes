FROM build-base AS ikos-build-env

ARG IKOS_VERSION_TAG
RUN apt-get install software-properties-common --yes
RUN apt-add-repository "deb http://apt.llvm.org/bookworm/ llvm-toolchain-bookworm-16 main"
RUN apt-get update

RUN apt-get install --yes --no-install-recommends libgmp-dev libboost-dev libboost-filesystem-dev \
    libboost-thread-dev libboost-test-dev libsqlite3-dev libtbb-dev \
    libz-dev libedit-dev python3-distutils llvm-14 llvm-14-dev llvm-14-tools clang-14 libmpfr-dev
RUN apt-get install snapd --yes
RUN systemctl status snapd.service
RUN snap install core ikos
RUN ls /root/
RUN ikos

